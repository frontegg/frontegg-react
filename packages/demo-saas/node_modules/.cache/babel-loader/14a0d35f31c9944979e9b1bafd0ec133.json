{"ast":null,"code":"import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ReactReduxContext } from './Context';\n\nvar Provider = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Provider, _Component);\n\n  function Provider(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    var store = props.store;\n    _this.state = {\n      storeState: store.getState(),\n      store: store\n    };\n    return _this;\n  }\n\n  var _proto = Provider.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n    this.subscribe();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n    this._isMounted = false;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.store !== prevProps.store) {\n      if (this.unsubscribe) this.unsubscribe();\n      this.subscribe();\n    }\n  };\n\n  _proto.subscribe = function subscribe() {\n    var _this2 = this;\n\n    var store = this.props.store;\n    this.unsubscribe = store.subscribe(function () {\n      var newStoreState = store.getState();\n\n      if (!_this2._isMounted) {\n        return;\n      }\n\n      _this2.setState(function (providerState) {\n        // If the value is the same, skip the unnecessary state update.\n        if (providerState.storeState === newStoreState) {\n          return null;\n        }\n\n        return {\n          storeState: newStoreState\n        };\n      });\n    }); // Actions might have been dispatched between render and mount - handle those\n\n    var postMountStoreState = store.getState();\n\n    if (postMountStoreState !== this.state.storeState) {\n      this.setState({\n        storeState: postMountStoreState\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var Context = this.props.context || ReactReduxContext;\n    return React.createElement(Context.Provider, {\n      value: this.state\n    }, this.props.children);\n  };\n\n  return Provider;\n}(Component);\n\nProvider.propTypes = {\n  store: PropTypes.shape({\n    subscribe: PropTypes.func.isRequired,\n    dispatch: PropTypes.func.isRequired,\n    getState: PropTypes.func.isRequired\n  }),\n  context: PropTypes.object,\n  children: PropTypes.any\n};\nexport default Provider;","map":{"version":3,"sources":["/Users/eldad/frontegg/frontegg-react-libs/node_modules/@frontegg/react/node_modules/react-redux/es/components/Provider.js"],"names":["_inheritsLoose","React","Component","PropTypes","ReactReduxContext","Provider","_Component","props","_this","call","store","state","storeState","getState","_proto","prototype","componentDidMount","_isMounted","subscribe","componentWillUnmount","unsubscribe","componentDidUpdate","prevProps","_this2","newStoreState","setState","providerState","postMountStoreState","render","Context","context","createElement","value","children","propTypes","shape","func","isRequired","dispatch","object","any"],"mappings":"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","sourcesContent":["import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ReactReduxContext } from './Context';\n\nvar Provider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Provider, _Component);\n\n  function Provider(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    var store = props.store;\n    _this.state = {\n      storeState: store.getState(),\n      store: store\n    };\n    return _this;\n  }\n\n  var _proto = Provider.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n    this.subscribe();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n    this._isMounted = false;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this.props.store !== prevProps.store) {\n      if (this.unsubscribe) this.unsubscribe();\n      this.subscribe();\n    }\n  };\n\n  _proto.subscribe = function subscribe() {\n    var _this2 = this;\n\n    var store = this.props.store;\n    this.unsubscribe = store.subscribe(function () {\n      var newStoreState = store.getState();\n\n      if (!_this2._isMounted) {\n        return;\n      }\n\n      _this2.setState(function (providerState) {\n        // If the value is the same, skip the unnecessary state update.\n        if (providerState.storeState === newStoreState) {\n          return null;\n        }\n\n        return {\n          storeState: newStoreState\n        };\n      });\n    }); // Actions might have been dispatched between render and mount - handle those\n\n    var postMountStoreState = store.getState();\n\n    if (postMountStoreState !== this.state.storeState) {\n      this.setState({\n        storeState: postMountStoreState\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var Context = this.props.context || ReactReduxContext;\n    return React.createElement(Context.Provider, {\n      value: this.state\n    }, this.props.children);\n  };\n\n  return Provider;\n}(Component);\n\nProvider.propTypes = {\n  store: PropTypes.shape({\n    subscribe: PropTypes.func.isRequired,\n    dispatch: PropTypes.func.isRequired,\n    getState: PropTypes.func.isRequired\n  }),\n  context: PropTypes.object,\n  children: PropTypes.any\n};\nexport default Provider;"]},"metadata":{},"sourceType":"module"}