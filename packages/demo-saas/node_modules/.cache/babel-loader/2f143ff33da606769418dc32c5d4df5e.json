{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _invoke2 = _interopRequireDefault(require(\"lodash/invoke\"));\n\nvar _eventStack = _interopRequireDefault(require(\"@semantic-ui-react/event-stack\"));\n\nvar _reactComponentRef = require(\"@stardust-ui/react-component-ref\");\n\nvar _keyboardKey = _interopRequireDefault(require(\"keyboard-key\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _lib = require(\"../../lib\");\n\nvar _PortalInner = _interopRequireDefault(require(\"./PortalInner\"));\n/**\n * A component that allows you to render children outside their parent.\n * @see Modal\n * @see Popup\n * @see Dimmer\n * @see Confirm\n */\n\n\nvar Portal = /*#__PURE__*/function (_Component) {\n  (0, _inherits2[\"default\"])(Portal, _Component);\n\n  function Portal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Portal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (_getPrototypeOf2 = (0, _getPrototypeOf3[\"default\"])(Portal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"contentRef\", (0, _react.createRef)());\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"triggerRef\", (0, _react.createRef)());\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"latestDocumentMouseDownEvent\", null);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleDocumentMouseDown\", function (e) {\n      _this.latestDocumentMouseDownEvent = e;\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleDocumentClick\", function (e) {\n      var closeOnDocumentClick = _this.props.closeOnDocumentClick;\n      var currentMouseDownEvent = _this.latestDocumentMouseDownEvent;\n      _this.latestDocumentMouseDownEvent = null;\n\n      if (!_this.contentRef.current || // no portal\n      (0, _lib.doesNodeContainClick)(_this.triggerRef.current, e) || // event happened in trigger (delegate to trigger handlers)\n      currentMouseDownEvent && (0, _lib.doesNodeContainClick)(_this.contentRef.current, currentMouseDownEvent) || // event originated in the portal but was ended outside\n      (0, _lib.doesNodeContainClick)(_this.contentRef.current, e) // event happened in the portal\n      ) {\n          return;\n        } // ignore the click\n\n\n      if (closeOnDocumentClick) {\n        _this.close(e);\n      }\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleEscape\", function (e) {\n      if (!_this.props.closeOnEscape) return;\n      if (_keyboardKey[\"default\"].getCode(e) !== _keyboardKey[\"default\"].Escape) return;\n\n      _this.close(e);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handlePortalMouseLeave\", function (e) {\n      var _this$props = _this.props,\n          closeOnPortalMouseLeave = _this$props.closeOnPortalMouseLeave,\n          mouseLeaveDelay = _this$props.mouseLeaveDelay;\n      if (!closeOnPortalMouseLeave) return; // Do not close the portal when 'mouseleave' is triggered by children\n\n      if (e.target !== _this.contentRef.current) return;\n      _this.mouseLeaveTimer = _this.closeWithTimeout(e, mouseLeaveDelay);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handlePortalMouseEnter\", function () {\n      // In order to enable mousing from the trigger to the portal, we need to\n      // clear the mouseleave timer that was set when leaving the trigger.\n      var closeOnPortalMouseLeave = _this.props.closeOnPortalMouseLeave;\n      if (!closeOnPortalMouseLeave) return;\n      clearTimeout(_this.mouseLeaveTimer);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerBlur\", function (e) {\n      var _this$props2 = _this.props,\n          trigger = _this$props2.trigger,\n          closeOnTriggerBlur = _this$props2.closeOnTriggerBlur; // Call original event handler\n\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onBlur', e].concat(rest)); // IE 11 doesn't work with relatedTarget in blur events\n\n\n      var target = e.relatedTarget || document.activeElement; // do not close if focus is given to the portal\n\n      var didFocusPortal = (0, _invoke2[\"default\"])(_this.contentRef.current, 'contains', target);\n      if (!closeOnTriggerBlur || didFocusPortal) return;\n\n      _this.close(e);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerClick\", function (e) {\n      var _this$props3 = _this.props,\n          trigger = _this$props3.trigger,\n          closeOnTriggerClick = _this$props3.closeOnTriggerClick,\n          openOnTriggerClick = _this$props3.openOnTriggerClick;\n      var open = _this.state.open; // Call original event handler\n\n      for (var _len3 = arguments.length, rest = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        rest[_key3 - 1] = arguments[_key3];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onClick', e].concat(rest));\n\n      if (open && closeOnTriggerClick) {\n        _this.close(e);\n      } else if (!open && openOnTriggerClick) {\n        _this.open(e);\n      }\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerFocus\", function (e) {\n      var _this$props4 = _this.props,\n          trigger = _this$props4.trigger,\n          openOnTriggerFocus = _this$props4.openOnTriggerFocus; // Call original event handler\n\n      for (var _len4 = arguments.length, rest = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        rest[_key4 - 1] = arguments[_key4];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onFocus', e].concat(rest));\n\n      if (!openOnTriggerFocus) return;\n\n      _this.open(e);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerMouseLeave\", function (e) {\n      clearTimeout(_this.mouseEnterTimer);\n      var _this$props5 = _this.props,\n          trigger = _this$props5.trigger,\n          closeOnTriggerMouseLeave = _this$props5.closeOnTriggerMouseLeave,\n          mouseLeaveDelay = _this$props5.mouseLeaveDelay; // Call original event handler\n\n      for (var _len5 = arguments.length, rest = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n        rest[_key5 - 1] = arguments[_key5];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onMouseLeave', e].concat(rest));\n\n      if (!closeOnTriggerMouseLeave) return;\n      _this.mouseLeaveTimer = _this.closeWithTimeout(e, mouseLeaveDelay);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerMouseEnter\", function (e) {\n      clearTimeout(_this.mouseLeaveTimer);\n      var _this$props6 = _this.props,\n          trigger = _this$props6.trigger,\n          mouseEnterDelay = _this$props6.mouseEnterDelay,\n          openOnTriggerMouseEnter = _this$props6.openOnTriggerMouseEnter; // Call original event handler\n\n      for (var _len6 = arguments.length, rest = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n        rest[_key6 - 1] = arguments[_key6];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onMouseEnter', e].concat(rest));\n\n      if (!openOnTriggerMouseEnter) return;\n      _this.mouseEnterTimer = _this.openWithTimeout(e, mouseEnterDelay);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"open\", function (e) {\n      var onOpen = _this.props.onOpen;\n      if (onOpen) onOpen(e, _this.props);\n\n      _this.trySetState({\n        open: true\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"openWithTimeout\", function (e, delay) {\n      // React wipes the entire event object and suggests using e.persist() if\n      // you need the event for async access. However, even with e.persist\n      // certain required props (e.g. currentTarget) are null so we're forced to clone.\n      var eventClone = (0, _objectSpread2[\"default\"])({}, e);\n      return setTimeout(function () {\n        return _this.open(eventClone);\n      }, delay || 0);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"close\", function (e) {\n      var onClose = _this.props.onClose;\n      if (onClose) onClose(e, _this.props);\n\n      _this.trySetState({\n        open: false\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"closeWithTimeout\", function (e, delay) {\n      // React wipes the entire event object and suggests using e.persist() if\n      // you need the event for async access. However, even with e.persist\n      // certain required props (e.g. currentTarget) are null so we're forced to clone.\n      var eventClone = (0, _objectSpread2[\"default\"])({}, e);\n      return setTimeout(function () {\n        return _this.close(eventClone);\n      }, delay || 0);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleMount\", function () {\n      (0, _invoke2[\"default\"])(_this.props, 'onMount', null, _this.props);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleUnmount\", function () {\n      (0, _invoke2[\"default\"])(_this.props, 'onUnmount', null, _this.props);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerRef\", function (c) {\n      _this.triggerRef.current = c;\n      (0, _reactComponentRef.handleRef)(_this.props.triggerRef, c);\n    });\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Portal, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // Clean up timers\n      clearTimeout(this.mouseEnterTimer);\n      clearTimeout(this.mouseLeaveTimer);\n    } // ----------------------------------------\n    // Document Event Handlers\n    // ----------------------------------------\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props7 = this.props,\n          children = _this$props7.children,\n          eventPool = _this$props7.eventPool,\n          mountNode = _this$props7.mountNode,\n          trigger = _this$props7.trigger;\n      var open = this.state.open;\n      return _react[\"default\"].createElement(_react.Fragment, null, open && _react[\"default\"].createElement(_react.Fragment, null, _react[\"default\"].createElement(_PortalInner[\"default\"], {\n        innerRef: this.contentRef,\n        mountNode: mountNode,\n        onMount: this.handleMount,\n        onUnmount: this.handleUnmount\n      }, children), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"mouseleave\",\n        on: this.handlePortalMouseLeave,\n        pool: eventPool,\n        target: this.contentRef\n      }), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"mouseenter\",\n        on: this.handlePortalMouseEnter,\n        pool: eventPool,\n        target: this.contentRef\n      }), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"mousedown\",\n        on: this.handleDocumentMouseDown,\n        pool: eventPool\n      }), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"click\",\n        on: this.handleDocumentClick,\n        pool: eventPool\n      }), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"keydown\",\n        on: this.handleEscape,\n        pool: eventPool\n      })), trigger && _react[\"default\"].createElement(_reactComponentRef.Ref, {\n        innerRef: this.handleTriggerRef\n      }, (0, _react.cloneElement)(trigger, {\n        onBlur: this.handleTriggerBlur,\n        onClick: this.handleTriggerClick,\n        onFocus: this.handleTriggerFocus,\n        onMouseLeave: this.handleTriggerMouseLeave,\n        onMouseEnter: this.handleTriggerMouseEnter\n      })));\n    }\n  }]);\n  return Portal;\n}(_lib.AutoControlledComponent);\n\n(0, _defineProperty2[\"default\"])(Portal, \"defaultProps\", {\n  closeOnDocumentClick: true,\n  closeOnEscape: true,\n  eventPool: 'default',\n  openOnTriggerClick: true\n});\n(0, _defineProperty2[\"default\"])(Portal, \"autoControlledProps\", ['open']);\n(0, _defineProperty2[\"default\"])(Portal, \"Inner\", _PortalInner[\"default\"]);\n(0, _defineProperty2[\"default\"])(Portal, \"handledProps\", [\"children\", \"closeOnDocumentClick\", \"closeOnEscape\", \"closeOnPortalMouseLeave\", \"closeOnTriggerBlur\", \"closeOnTriggerClick\", \"closeOnTriggerMouseLeave\", \"defaultOpen\", \"eventPool\", \"mountNode\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"onClose\", \"onMount\", \"onOpen\", \"onUnmount\", \"open\", \"openOnTriggerClick\", \"openOnTriggerFocus\", \"openOnTriggerMouseEnter\", \"trigger\", \"triggerRef\"]);\nPortal.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** Primary content. */\n  children: _propTypes[\"default\"].node.isRequired,\n\n  /** Controls whether or not the portal should close when the document is clicked. */\n  closeOnDocumentClick: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should close when escape is pressed is displayed. */\n  closeOnEscape: _propTypes[\"default\"].bool,\n\n  /**\n   * Controls whether or not the portal should close when mousing out of the portal.\n   * NOTE: This will prevent `closeOnTriggerMouseLeave` when mousing over the\n   * gap from the trigger to the portal.\n   */\n  closeOnPortalMouseLeave: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should close on blur of the trigger. */\n  closeOnTriggerBlur: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should close on click of the trigger. */\n  closeOnTriggerClick: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should close when mousing out of the trigger. */\n  closeOnTriggerMouseLeave: _propTypes[\"default\"].bool,\n\n  /** Initial value of open. */\n  defaultOpen: _propTypes[\"default\"].bool,\n\n  /** Event pool namespace that is used to handle component events */\n  eventPool: _propTypes[\"default\"].string,\n\n  /** The node where the portal should mount. */\n  mountNode: _propTypes[\"default\"].any,\n\n  /** Milliseconds to wait before opening on mouse over */\n  mouseEnterDelay: _propTypes[\"default\"].number,\n\n  /** Milliseconds to wait before closing on mouse leave */\n  mouseLeaveDelay: _propTypes[\"default\"].number,\n\n  /**\n   * Called when a close event happens\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: _propTypes[\"default\"].func,\n\n  /**\n   * Called when the portal is mounted on the DOM.\n   *\n   * @param {null}\n   * @param {object} data - All props.\n   */\n  onMount: _propTypes[\"default\"].func,\n\n  /**\n   * Called when an open event happens\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: _propTypes[\"default\"].func,\n\n  /**\n   * Called when the portal is unmounted from the DOM.\n   *\n   * @param {null}\n   * @param {object} data - All props.\n   */\n  onUnmount: _propTypes[\"default\"].func,\n\n  /** Controls whether or not the portal is displayed. */\n  open: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should open when the trigger is clicked. */\n  openOnTriggerClick: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should open on focus of the trigger. */\n  openOnTriggerFocus: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should open when mousing over the trigger. */\n  openOnTriggerMouseEnter: _propTypes[\"default\"].bool,\n\n  /** Element to be rendered in-place where the portal is defined. */\n  trigger: _propTypes[\"default\"].node,\n\n  /** Called with a ref to the trigger node. */\n  triggerRef: _lib.customPropTypes.ref\n} : {};\nvar _default = Portal;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/eldad/frontegg/frontegg-react-libs/node_modules/semantic-ui-react/dist/commonjs/addons/Portal/Portal.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_objectSpread2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf3","_assertThisInitialized2","_inherits2","_defineProperty2","_invoke2","_eventStack","_reactComponentRef","_keyboardKey","_propTypes","_react","_lib","_PortalInner","Portal","_Component","_getPrototypeOf2","_this","_len","arguments","length","args","Array","_key","call","apply","concat","createRef","e","latestDocumentMouseDownEvent","closeOnDocumentClick","props","currentMouseDownEvent","contentRef","current","doesNodeContainClick","triggerRef","close","closeOnEscape","getCode","Escape","_this$props","closeOnPortalMouseLeave","mouseLeaveDelay","target","mouseLeaveTimer","closeWithTimeout","clearTimeout","_this$props2","trigger","closeOnTriggerBlur","_len2","rest","_key2","relatedTarget","document","activeElement","didFocusPortal","_this$props3","closeOnTriggerClick","openOnTriggerClick","open","state","_len3","_key3","_this$props4","openOnTriggerFocus","_len4","_key4","mouseEnterTimer","_this$props5","closeOnTriggerMouseLeave","_len5","_key5","_this$props6","mouseEnterDelay","openOnTriggerMouseEnter","_len6","_key6","openWithTimeout","onOpen","trySetState","delay","eventClone","setTimeout","onClose","c","handleRef","key","componentWillUnmount","render","_this$props7","children","eventPool","mountNode","createElement","Fragment","innerRef","onMount","handleMount","onUnmount","handleUnmount","name","on","handlePortalMouseLeave","pool","handlePortalMouseEnter","handleDocumentMouseDown","handleDocumentClick","handleEscape","Ref","handleTriggerRef","cloneElement","onBlur","handleTriggerBlur","onClick","handleTriggerClick","onFocus","handleTriggerFocus","onMouseLeave","handleTriggerMouseLeave","onMouseEnter","handleTriggerMouseEnter","AutoControlledComponent","propTypes","process","env","NODE_ENV","node","isRequired","bool","defaultOpen","string","any","number","func","customPropTypes","ref","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _invoke2 = _interopRequireDefault(require(\"lodash/invoke\"));\n\nvar _eventStack = _interopRequireDefault(require(\"@semantic-ui-react/event-stack\"));\n\nvar _reactComponentRef = require(\"@stardust-ui/react-component-ref\");\n\nvar _keyboardKey = _interopRequireDefault(require(\"keyboard-key\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _lib = require(\"../../lib\");\n\nvar _PortalInner = _interopRequireDefault(require(\"./PortalInner\"));\n\n/**\n * A component that allows you to render children outside their parent.\n * @see Modal\n * @see Popup\n * @see Dimmer\n * @see Confirm\n */\nvar Portal =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Portal, _Component);\n\n  function Portal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Portal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (_getPrototypeOf2 = (0, _getPrototypeOf3[\"default\"])(Portal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"contentRef\", (0, _react.createRef)());\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"triggerRef\", (0, _react.createRef)());\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"latestDocumentMouseDownEvent\", null);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleDocumentMouseDown\", function (e) {\n      _this.latestDocumentMouseDownEvent = e;\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleDocumentClick\", function (e) {\n      var closeOnDocumentClick = _this.props.closeOnDocumentClick;\n      var currentMouseDownEvent = _this.latestDocumentMouseDownEvent;\n      _this.latestDocumentMouseDownEvent = null;\n\n      if (!_this.contentRef.current || // no portal\n      (0, _lib.doesNodeContainClick)(_this.triggerRef.current, e) || // event happened in trigger (delegate to trigger handlers)\n      currentMouseDownEvent && (0, _lib.doesNodeContainClick)(_this.contentRef.current, currentMouseDownEvent) || // event originated in the portal but was ended outside\n      (0, _lib.doesNodeContainClick)(_this.contentRef.current, e) // event happened in the portal\n      ) {\n          return;\n        } // ignore the click\n\n\n      if (closeOnDocumentClick) {\n        _this.close(e);\n      }\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleEscape\", function (e) {\n      if (!_this.props.closeOnEscape) return;\n      if (_keyboardKey[\"default\"].getCode(e) !== _keyboardKey[\"default\"].Escape) return;\n\n      _this.close(e);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handlePortalMouseLeave\", function (e) {\n      var _this$props = _this.props,\n          closeOnPortalMouseLeave = _this$props.closeOnPortalMouseLeave,\n          mouseLeaveDelay = _this$props.mouseLeaveDelay;\n      if (!closeOnPortalMouseLeave) return; // Do not close the portal when 'mouseleave' is triggered by children\n\n      if (e.target !== _this.contentRef.current) return;\n      _this.mouseLeaveTimer = _this.closeWithTimeout(e, mouseLeaveDelay);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handlePortalMouseEnter\", function () {\n      // In order to enable mousing from the trigger to the portal, we need to\n      // clear the mouseleave timer that was set when leaving the trigger.\n      var closeOnPortalMouseLeave = _this.props.closeOnPortalMouseLeave;\n      if (!closeOnPortalMouseLeave) return;\n      clearTimeout(_this.mouseLeaveTimer);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerBlur\", function (e) {\n      var _this$props2 = _this.props,\n          trigger = _this$props2.trigger,\n          closeOnTriggerBlur = _this$props2.closeOnTriggerBlur; // Call original event handler\n\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onBlur', e].concat(rest)); // IE 11 doesn't work with relatedTarget in blur events\n\n\n      var target = e.relatedTarget || document.activeElement; // do not close if focus is given to the portal\n\n      var didFocusPortal = (0, _invoke2[\"default\"])(_this.contentRef.current, 'contains', target);\n      if (!closeOnTriggerBlur || didFocusPortal) return;\n\n      _this.close(e);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerClick\", function (e) {\n      var _this$props3 = _this.props,\n          trigger = _this$props3.trigger,\n          closeOnTriggerClick = _this$props3.closeOnTriggerClick,\n          openOnTriggerClick = _this$props3.openOnTriggerClick;\n      var open = _this.state.open; // Call original event handler\n\n      for (var _len3 = arguments.length, rest = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        rest[_key3 - 1] = arguments[_key3];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onClick', e].concat(rest));\n\n      if (open && closeOnTriggerClick) {\n        _this.close(e);\n      } else if (!open && openOnTriggerClick) {\n        _this.open(e);\n      }\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerFocus\", function (e) {\n      var _this$props4 = _this.props,\n          trigger = _this$props4.trigger,\n          openOnTriggerFocus = _this$props4.openOnTriggerFocus; // Call original event handler\n\n      for (var _len4 = arguments.length, rest = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        rest[_key4 - 1] = arguments[_key4];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onFocus', e].concat(rest));\n\n      if (!openOnTriggerFocus) return;\n\n      _this.open(e);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerMouseLeave\", function (e) {\n      clearTimeout(_this.mouseEnterTimer);\n      var _this$props5 = _this.props,\n          trigger = _this$props5.trigger,\n          closeOnTriggerMouseLeave = _this$props5.closeOnTriggerMouseLeave,\n          mouseLeaveDelay = _this$props5.mouseLeaveDelay; // Call original event handler\n\n      for (var _len5 = arguments.length, rest = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n        rest[_key5 - 1] = arguments[_key5];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onMouseLeave', e].concat(rest));\n\n      if (!closeOnTriggerMouseLeave) return;\n      _this.mouseLeaveTimer = _this.closeWithTimeout(e, mouseLeaveDelay);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerMouseEnter\", function (e) {\n      clearTimeout(_this.mouseLeaveTimer);\n      var _this$props6 = _this.props,\n          trigger = _this$props6.trigger,\n          mouseEnterDelay = _this$props6.mouseEnterDelay,\n          openOnTriggerMouseEnter = _this$props6.openOnTriggerMouseEnter; // Call original event handler\n\n      for (var _len6 = arguments.length, rest = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n        rest[_key6 - 1] = arguments[_key6];\n      }\n\n      _invoke2[\"default\"].apply(void 0, [trigger, 'props.onMouseEnter', e].concat(rest));\n\n      if (!openOnTriggerMouseEnter) return;\n      _this.mouseEnterTimer = _this.openWithTimeout(e, mouseEnterDelay);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"open\", function (e) {\n      var onOpen = _this.props.onOpen;\n      if (onOpen) onOpen(e, _this.props);\n\n      _this.trySetState({\n        open: true\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"openWithTimeout\", function (e, delay) {\n      // React wipes the entire event object and suggests using e.persist() if\n      // you need the event for async access. However, even with e.persist\n      // certain required props (e.g. currentTarget) are null so we're forced to clone.\n      var eventClone = (0, _objectSpread2[\"default\"])({}, e);\n      return setTimeout(function () {\n        return _this.open(eventClone);\n      }, delay || 0);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"close\", function (e) {\n      var onClose = _this.props.onClose;\n      if (onClose) onClose(e, _this.props);\n\n      _this.trySetState({\n        open: false\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"closeWithTimeout\", function (e, delay) {\n      // React wipes the entire event object and suggests using e.persist() if\n      // you need the event for async access. However, even with e.persist\n      // certain required props (e.g. currentTarget) are null so we're forced to clone.\n      var eventClone = (0, _objectSpread2[\"default\"])({}, e);\n      return setTimeout(function () {\n        return _this.close(eventClone);\n      }, delay || 0);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleMount\", function () {\n      (0, _invoke2[\"default\"])(_this.props, 'onMount', null, _this.props);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleUnmount\", function () {\n      (0, _invoke2[\"default\"])(_this.props, 'onUnmount', null, _this.props);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleTriggerRef\", function (c) {\n      _this.triggerRef.current = c;\n      (0, _reactComponentRef.handleRef)(_this.props.triggerRef, c);\n    });\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Portal, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // Clean up timers\n      clearTimeout(this.mouseEnterTimer);\n      clearTimeout(this.mouseLeaveTimer);\n    } // ----------------------------------------\n    // Document Event Handlers\n    // ----------------------------------------\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props7 = this.props,\n          children = _this$props7.children,\n          eventPool = _this$props7.eventPool,\n          mountNode = _this$props7.mountNode,\n          trigger = _this$props7.trigger;\n      var open = this.state.open;\n      return _react[\"default\"].createElement(_react.Fragment, null, open && _react[\"default\"].createElement(_react.Fragment, null, _react[\"default\"].createElement(_PortalInner[\"default\"], {\n        innerRef: this.contentRef,\n        mountNode: mountNode,\n        onMount: this.handleMount,\n        onUnmount: this.handleUnmount\n      }, children), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"mouseleave\",\n        on: this.handlePortalMouseLeave,\n        pool: eventPool,\n        target: this.contentRef\n      }), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"mouseenter\",\n        on: this.handlePortalMouseEnter,\n        pool: eventPool,\n        target: this.contentRef\n      }), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"mousedown\",\n        on: this.handleDocumentMouseDown,\n        pool: eventPool\n      }), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"click\",\n        on: this.handleDocumentClick,\n        pool: eventPool\n      }), _react[\"default\"].createElement(_eventStack[\"default\"], {\n        name: \"keydown\",\n        on: this.handleEscape,\n        pool: eventPool\n      })), trigger && _react[\"default\"].createElement(_reactComponentRef.Ref, {\n        innerRef: this.handleTriggerRef\n      }, (0, _react.cloneElement)(trigger, {\n        onBlur: this.handleTriggerBlur,\n        onClick: this.handleTriggerClick,\n        onFocus: this.handleTriggerFocus,\n        onMouseLeave: this.handleTriggerMouseLeave,\n        onMouseEnter: this.handleTriggerMouseEnter\n      })));\n    }\n  }]);\n  return Portal;\n}(_lib.AutoControlledComponent);\n\n(0, _defineProperty2[\"default\"])(Portal, \"defaultProps\", {\n  closeOnDocumentClick: true,\n  closeOnEscape: true,\n  eventPool: 'default',\n  openOnTriggerClick: true\n});\n(0, _defineProperty2[\"default\"])(Portal, \"autoControlledProps\", ['open']);\n(0, _defineProperty2[\"default\"])(Portal, \"Inner\", _PortalInner[\"default\"]);\n(0, _defineProperty2[\"default\"])(Portal, \"handledProps\", [\"children\", \"closeOnDocumentClick\", \"closeOnEscape\", \"closeOnPortalMouseLeave\", \"closeOnTriggerBlur\", \"closeOnTriggerClick\", \"closeOnTriggerMouseLeave\", \"defaultOpen\", \"eventPool\", \"mountNode\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"onClose\", \"onMount\", \"onOpen\", \"onUnmount\", \"open\", \"openOnTriggerClick\", \"openOnTriggerFocus\", \"openOnTriggerMouseEnter\", \"trigger\", \"triggerRef\"]);\nPortal.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** Primary content. */\n  children: _propTypes[\"default\"].node.isRequired,\n\n  /** Controls whether or not the portal should close when the document is clicked. */\n  closeOnDocumentClick: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should close when escape is pressed is displayed. */\n  closeOnEscape: _propTypes[\"default\"].bool,\n\n  /**\n   * Controls whether or not the portal should close when mousing out of the portal.\n   * NOTE: This will prevent `closeOnTriggerMouseLeave` when mousing over the\n   * gap from the trigger to the portal.\n   */\n  closeOnPortalMouseLeave: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should close on blur of the trigger. */\n  closeOnTriggerBlur: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should close on click of the trigger. */\n  closeOnTriggerClick: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should close when mousing out of the trigger. */\n  closeOnTriggerMouseLeave: _propTypes[\"default\"].bool,\n\n  /** Initial value of open. */\n  defaultOpen: _propTypes[\"default\"].bool,\n\n  /** Event pool namespace that is used to handle component events */\n  eventPool: _propTypes[\"default\"].string,\n\n  /** The node where the portal should mount. */\n  mountNode: _propTypes[\"default\"].any,\n\n  /** Milliseconds to wait before opening on mouse over */\n  mouseEnterDelay: _propTypes[\"default\"].number,\n\n  /** Milliseconds to wait before closing on mouse leave */\n  mouseLeaveDelay: _propTypes[\"default\"].number,\n\n  /**\n   * Called when a close event happens\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: _propTypes[\"default\"].func,\n\n  /**\n   * Called when the portal is mounted on the DOM.\n   *\n   * @param {null}\n   * @param {object} data - All props.\n   */\n  onMount: _propTypes[\"default\"].func,\n\n  /**\n   * Called when an open event happens\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: _propTypes[\"default\"].func,\n\n  /**\n   * Called when the portal is unmounted from the DOM.\n   *\n   * @param {null}\n   * @param {object} data - All props.\n   */\n  onUnmount: _propTypes[\"default\"].func,\n\n  /** Controls whether or not the portal is displayed. */\n  open: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should open when the trigger is clicked. */\n  openOnTriggerClick: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should open on focus of the trigger. */\n  openOnTriggerFocus: _propTypes[\"default\"].bool,\n\n  /** Controls whether or not the portal should open when mousing over the trigger. */\n  openOnTriggerMouseEnter: _propTypes[\"default\"].bool,\n\n  /** Element to be rendered in-place where the portal is defined. */\n  trigger: _propTypes[\"default\"].node,\n\n  /** Called with a ref to the trigger node. */\n  triggerRef: _lib.customPropTypes.ref\n} : {};\nvar _default = Portal;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}