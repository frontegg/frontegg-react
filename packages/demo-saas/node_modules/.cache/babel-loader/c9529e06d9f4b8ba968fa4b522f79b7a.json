{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint prefer-template: 0 */\n\n\nimport React from 'react';\nimport { fromEvent } from 'file-selector';\nimport PropTypes from 'prop-types';\nimport { isDragDataWithFiles, supportMultiple, fileAccepted, allFilesAccepted, fileMatchSize, onDocumentDragOver, isIeOrEdge, composeEventHandlers, isPropagationStopped, isDefaultPrevented } from './utils';\n\nvar Dropzone = function (_React$Component) {\n  _inherits(Dropzone, _React$Component);\n\n  function Dropzone() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Dropzone);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Dropzone.__proto__ || Object.getPrototypeOf(Dropzone)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      draggedFiles: [],\n      acceptedFiles: [],\n      rejectedFiles: []\n    }, _this.isFileDialogActive = false, _this.onDocumentDrop = function (evt) {\n      if (_this.node && _this.node.contains(evt.target)) {\n        // if we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n        return;\n      }\n\n      evt.preventDefault();\n      _this.dragTargets = [];\n    }, _this.onDragStart = function (evt) {\n      evt.persist();\n\n      if (_this.props.onDragStart && isDragDataWithFiles(evt)) {\n        _this.props.onDragStart.call(_this, evt);\n      }\n    }, _this.onDragEnter = function (evt) {\n      evt.preventDefault(); // Count the dropzone and any children that are entered.\n\n      if (_this.dragTargets.indexOf(evt.target) === -1) {\n        _this.dragTargets.push(evt.target);\n      }\n\n      evt.persist();\n\n      if (isDragDataWithFiles(evt)) {\n        Promise.resolve(_this.props.getDataTransferItems(evt)).then(function (draggedFiles) {\n          if (isPropagationStopped(evt)) {\n            return;\n          }\n\n          _this.setState({\n            draggedFiles: draggedFiles,\n            // Do not rely on files for the drag state. It doesn't work in Safari.\n            isDragActive: true\n          });\n        });\n\n        if (_this.props.onDragEnter) {\n          _this.props.onDragEnter.call(_this, evt);\n        }\n      }\n    }, _this.onDragOver = function (evt) {\n      // eslint-disable-line class-methods-use-this\n      evt.preventDefault();\n      evt.persist();\n\n      if (evt.dataTransfer) {\n        evt.dataTransfer.dropEffect = 'copy';\n      }\n\n      if (_this.props.onDragOver && isDragDataWithFiles(evt)) {\n        _this.props.onDragOver.call(_this, evt);\n      }\n\n      return false;\n    }, _this.onDragLeave = function (evt) {\n      evt.preventDefault();\n      evt.persist(); // Only deactivate once the dropzone and all children have been left.\n\n      _this.dragTargets = _this.dragTargets.filter(function (el) {\n        return el !== evt.target && _this.node.contains(el);\n      });\n\n      if (_this.dragTargets.length > 0) {\n        return;\n      } // Clear dragging files state\n\n\n      _this.setState({\n        isDragActive: false,\n        draggedFiles: []\n      });\n\n      if (_this.props.onDragLeave && isDragDataWithFiles(evt)) {\n        _this.props.onDragLeave.call(_this, evt);\n      }\n    }, _this.onDrop = function (evt) {\n      var _this$props = _this.props,\n          onDrop = _this$props.onDrop,\n          onDropAccepted = _this$props.onDropAccepted,\n          onDropRejected = _this$props.onDropRejected,\n          multiple = _this$props.multiple,\n          accept = _this$props.accept,\n          getDataTransferItems = _this$props.getDataTransferItems; // Stop default browser behavior\n\n      evt.preventDefault(); // Persist event for later usage\n\n      evt.persist(); // Reset the counter along with the drag on a drop.\n\n      _this.dragTargets = [];\n      _this.isFileDialogActive = false; // Clear files value\n\n      _this.draggedFiles = null; // Reset drag state\n\n      _this.setState({\n        isDragActive: false,\n        draggedFiles: []\n      });\n\n      if (isDragDataWithFiles(evt)) {\n        Promise.resolve(getDataTransferItems(evt)).then(function (fileList) {\n          var acceptedFiles = [];\n          var rejectedFiles = [];\n\n          if (isPropagationStopped(evt)) {\n            return;\n          }\n\n          fileList.forEach(function (file) {\n            if (fileAccepted(file, accept) && fileMatchSize(file, _this.props.maxSize, _this.props.minSize)) {\n              acceptedFiles.push(file);\n            } else {\n              rejectedFiles.push(file);\n            }\n          });\n\n          if (!multiple && acceptedFiles.length > 1) {\n            // if not in multi mode add any extra accepted files to rejected.\n            // This will allow end users to easily ignore a multi file drop in \"single\" mode.\n            rejectedFiles.push.apply(rejectedFiles, _toConsumableArray(acceptedFiles.splice(0)));\n          } // Update `acceptedFiles` and `rejectedFiles` state\n          // This will make children render functions receive the appropriate\n          // values\n\n\n          _this.setState({\n            acceptedFiles: acceptedFiles,\n            rejectedFiles: rejectedFiles\n          }, function () {\n            if (onDrop) {\n              onDrop.call(_this, acceptedFiles, rejectedFiles, evt);\n            }\n\n            if (rejectedFiles.length > 0 && onDropRejected) {\n              onDropRejected.call(_this, rejectedFiles, evt);\n            }\n\n            if (acceptedFiles.length > 0 && onDropAccepted) {\n              onDropAccepted.call(_this, acceptedFiles, evt);\n            }\n          });\n        });\n      }\n    }, _this.onClick = function (evt) {\n      var onClick = _this.props.onClick; // if onClick prop is given, run it first\n\n      if (onClick) {\n        onClick.call(_this, evt);\n      } // If the event hasn't been default prevented from within\n      // the onClick listener, open the file dialog\n\n\n      if (!isDefaultPrevented(evt)) {\n        evt.stopPropagation(); // in IE11/Edge the file-browser dialog is blocking, ensure this is behind setTimeout\n        // this is so react can handle state changes in the onClick prop above above\n        // see: https://github.com/react-dropzone/react-dropzone/issues/450\n\n        if (isIeOrEdge()) {\n          setTimeout(_this.open, 0);\n        } else {\n          _this.open();\n        }\n      }\n    }, _this.onInputElementClick = function (evt) {\n      evt.stopPropagation();\n    }, _this.onFileDialogCancel = function () {\n      // timeout will not recognize context of this method\n      var onFileDialogCancel = _this.props.onFileDialogCancel; // execute the timeout only if the FileDialog is opened in the browser\n\n      if (_this.isFileDialogActive) {\n        setTimeout(function () {\n          if (_this.input != null) {\n            // Returns an object as FileList\n            var files = _this.input.files;\n\n            if (!files.length) {\n              _this.isFileDialogActive = false;\n\n              if (typeof onFileDialogCancel === 'function') {\n                onFileDialogCancel();\n              }\n            }\n          }\n        }, 300);\n      }\n    }, _this.onFocus = function (evt) {\n      var onFocus = _this.props.onFocus;\n\n      if (onFocus) {\n        onFocus.call(_this, evt);\n      }\n\n      if (!isDefaultPrevented(evt)) {\n        _this.setState({\n          isFocused: true\n        });\n      }\n    }, _this.onBlur = function (evt) {\n      var onBlur = _this.props.onBlur;\n\n      if (onBlur) {\n        onBlur.call(_this, evt);\n      }\n\n      if (!isDefaultPrevented(evt)) {\n        _this.setState({\n          isFocused: false\n        });\n      }\n    }, _this.onKeyDown = function (evt) {\n      var onKeyDown = _this.props.onKeyDown;\n\n      if (!_this.node.isEqualNode(evt.target)) {\n        return;\n      }\n\n      if (onKeyDown) {\n        onKeyDown.call(_this, evt);\n      }\n\n      if (!isDefaultPrevented(evt) && (evt.keyCode === 32 || evt.keyCode === 13)) {\n        evt.preventDefault();\n\n        _this.open();\n      }\n    }, _this.composeHandler = function (handler) {\n      if (_this.props.disabled) {\n        return null;\n      }\n\n      return handler;\n    }, _this.getRootProps = function () {\n      var _extends2;\n\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === undefined ? 'ref' : _ref2$refKey,\n          onKeyDown = _ref2.onKeyDown,\n          onFocus = _ref2.onFocus,\n          onBlur = _ref2.onBlur,\n          onClick = _ref2.onClick,\n          onDragStart = _ref2.onDragStart,\n          onDragEnter = _ref2.onDragEnter,\n          onDragOver = _ref2.onDragOver,\n          onDragLeave = _ref2.onDragLeave,\n          onDrop = _ref2.onDrop,\n          rest = _objectWithoutProperties(_ref2, ['refKey', 'onKeyDown', 'onFocus', 'onBlur', 'onClick', 'onDragStart', 'onDragEnter', 'onDragOver', 'onDragLeave', 'onDrop']);\n\n      return _extends((_extends2 = {\n        onKeyDown: _this.composeHandler(onKeyDown ? composeEventHandlers(onKeyDown, _this.onKeyDown) : _this.onKeyDown),\n        onFocus: _this.composeHandler(onFocus ? composeEventHandlers(onFocus, _this.onFocus) : _this.onFocus),\n        onBlur: _this.composeHandler(onBlur ? composeEventHandlers(onBlur, _this.onBlur) : _this.onBlur),\n        onClick: _this.composeHandler(onClick ? composeEventHandlers(onClick, _this.onClick) : _this.onClick),\n        onDragStart: _this.composeHandler(onDragStart ? composeEventHandlers(onDragStart, _this.onDragStart) : _this.onDragStart),\n        onDragEnter: _this.composeHandler(onDragEnter ? composeEventHandlers(onDragEnter, _this.onDragEnter) : _this.onDragEnter),\n        onDragOver: _this.composeHandler(onDragOver ? composeEventHandlers(onDragOver, _this.onDragOver) : _this.onDragOver),\n        onDragLeave: _this.composeHandler(onDragLeave ? composeEventHandlers(onDragLeave, _this.onDragLeave) : _this.onDragLeave),\n        onDrop: _this.composeHandler(onDrop ? composeEventHandlers(onDrop, _this.onDrop) : _this.onDrop)\n      }, _defineProperty(_extends2, refKey, _this.setNodeRef), _defineProperty(_extends2, 'tabIndex', _this.props.disabled ? -1 : 0), _extends2), rest);\n    }, _this.getInputProps = function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === undefined ? 'ref' : _ref3$refKey,\n          onChange = _ref3.onChange,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutProperties(_ref3, ['refKey', 'onChange', 'onClick']);\n\n      var _this$props2 = _this.props,\n          accept = _this$props2.accept,\n          multiple = _this$props2.multiple,\n          name = _this$props2.name;\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        type: 'file',\n        style: {\n          display: 'none'\n        },\n        multiple: supportMultiple && multiple,\n        onChange: composeEventHandlers(onChange, _this.onDrop),\n        onClick: composeEventHandlers(onClick, _this.onInputElementClick),\n        autoComplete: 'off',\n        tabIndex: -1\n      }, refKey, _this.setInputRef);\n\n      if (name && name.length) {\n        inputProps.name = name;\n      }\n\n      return _extends({}, inputProps, rest);\n    }, _this.setNodeRef = function (node) {\n      _this.node = node;\n    }, _this.setInputRef = function (input) {\n      _this.input = input;\n    }, _this.open = function () {\n      _this.isFileDialogActive = true;\n\n      if (_this.input) {\n        _this.input.value = null;\n\n        _this.input.click();\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Dropzone, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n      this.dragTargets = [];\n\n      if (preventDropOnDocument) {\n        document.addEventListener('dragover', onDocumentDragOver, false);\n        document.addEventListener('drop', this.onDocumentDrop, false);\n      }\n\n      window.addEventListener('focus', this.onFileDialogCancel, false);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', this.onDocumentDrop);\n      }\n\n      window.removeEventListener('focus', this.onFileDialogCancel, false);\n    }\n    /**\n     * Open system file upload dialog.\n     *\n     * @public\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          multiple = _props.multiple,\n          disabled = _props.disabled;\n      var _state = this.state,\n          isDragActive = _state.isDragActive,\n          isFocused = _state.isFocused,\n          draggedFiles = _state.draggedFiles,\n          acceptedFiles = _state.acceptedFiles,\n          rejectedFiles = _state.rejectedFiles;\n      var filesCount = draggedFiles.length;\n      var isMultipleAllowed = multiple || filesCount <= 1;\n      var isDragAccept = filesCount > 0 && allFilesAccepted(draggedFiles, this.props.accept);\n      var isDragReject = filesCount > 0 && (!isDragAccept || !isMultipleAllowed);\n      return children({\n        isDragActive: isDragActive,\n        isDragAccept: isDragAccept,\n        isDragReject: isDragReject,\n        draggedFiles: draggedFiles,\n        acceptedFiles: acceptedFiles,\n        rejectedFiles: rejectedFiles,\n        isFocused: isFocused && !disabled,\n        getRootProps: this.getRootProps,\n        getInputProps: this.getInputProps,\n        open: this.open\n      });\n    }\n  }]);\n\n  return Dropzone;\n}(React.Component);\n\nexport default Dropzone;\nDropzone.propTypes = {\n  /**\n   * Allow specific types of files. See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Render function that renders the actual component\n   *\n   * @param {Object} props\n   * @param {Function} props.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} props.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} props.open Open the native file selection dialog\n   * @param {Boolean} props.isFocused Dropzone area is in focus\n   * @param {Boolean} props.isDragActive Active drag is in progress\n   * @param {Boolean} props.isDragAccept Dragged files are accepted\n   * @param {Boolean} props.isDragReject Some dragged files are rejected\n   * @param {Array} props.draggedFiles Files in active drag\n   * @param {Array} props.acceptedFiles Accepted files\n   * @param {Array} props.rejectedFiles Rejected files\n   */\n  children: PropTypes.func,\n\n  /**\n   * Enable/disable the dropzone entirely\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * Allow dropping multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * `name` attribute for the input tag\n   */\n  name: PropTypes.string,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * getDataTransferItems handler\n   * @param {Event} event\n   * @returns {Array} array of File objects\n   */\n  getDataTransferItems: PropTypes.func,\n\n  /**\n   * onClick callback\n   * @param {Event} event\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * onFocus callback\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * onBlur callback\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * onKeyDown callback\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * The `onDrop` method that accepts two arguments.\n   * The first argument represents the accepted files and the second argument the rejected files.\n   *\n   * ```javascript\n   * function onDrop(acceptedFiles, rejectedFiles) {\n   *   // do stuff with files...\n   * }\n   * ```\n   *\n   * Files are accepted or rejected based on the `accept` prop.\n   * This must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   *\n   * Note that the `onDrop` callback will always be called regardless if the dropped files were accepted or rejected.\n   * You can use the `onDropAccepted`/`onDropRejected` props if you'd like to react to a specific event instead of the `onDrop` prop.\n   *\n   * The `onDrop` callback will provide you with an array of [Files](https://developer.mozilla.org/en-US/docs/Web/API/File) which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```javascript\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * onDropAccepted callback\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * onDropRejected callback\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * onDragStart callback\n   */\n  onDragStart: PropTypes.func,\n\n  /**\n   * onDragEnter callback\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * onDragOver callback\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * onDragLeave callback\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Provide a callback on clicking the cancel button of the file dialog\n   */\n  onFileDialogCancel: PropTypes.func\n};\nDropzone.defaultProps = {\n  preventDropOnDocument: true,\n  disabled: false,\n  multiple: true,\n  maxSize: Infinity,\n  minSize: 0,\n  getDataTransferItems: fromEvent\n};","map":{"version":3,"sources":["/Users/eldad/frontegg/frontegg-react-libs/node_modules/react-dropzone/dist/es/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_defineProperty","obj","value","_objectWithoutProperties","keys","indexOf","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","React","fromEvent","PropTypes","isDragDataWithFiles","supportMultiple","fileAccepted","allFilesAccepted","fileMatchSize","onDocumentDragOver","isIeOrEdge","composeEventHandlers","isPropagationStopped","isDefaultPrevented","Dropzone","_React$Component","_ref","_temp","_this","_ret","_len","args","_key","getPrototypeOf","apply","concat","state","draggedFiles","acceptedFiles","rejectedFiles","isFileDialogActive","onDocumentDrop","evt","node","contains","preventDefault","dragTargets","onDragStart","persist","onDragEnter","push","Promise","resolve","getDataTransferItems","then","setState","isDragActive","onDragOver","dataTransfer","dropEffect","onDragLeave","filter","el","onDrop","_this$props","onDropAccepted","onDropRejected","multiple","accept","fileList","forEach","file","maxSize","minSize","splice","onClick","stopPropagation","setTimeout","open","onInputElementClick","onFileDialogCancel","input","files","onFocus","isFocused","onBlur","onKeyDown","isEqualNode","keyCode","composeHandler","handler","disabled","getRootProps","_extends2","_ref2","undefined","_ref2$refKey","refKey","rest","setNodeRef","getInputProps","_ref3","_ref3$refKey","onChange","_this$props2","name","inputProps","type","style","display","autoComplete","tabIndex","setInputRef","click","componentDidMount","preventDropOnDocument","document","addEventListener","window","componentWillUnmount","removeEventListener","render","_props","children","_state","filesCount","isMultipleAllowed","isDragAccept","isDragReject","Component","propTypes","oneOfType","string","arrayOf","func","bool","number","defaultProps","Infinity"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint prefer-template: 0 */\n\nimport React from 'react';\nimport { fromEvent } from 'file-selector';\nimport PropTypes from 'prop-types';\nimport { isDragDataWithFiles, supportMultiple, fileAccepted, allFilesAccepted, fileMatchSize, onDocumentDragOver, isIeOrEdge, composeEventHandlers, isPropagationStopped, isDefaultPrevented } from './utils';\n\nvar Dropzone = function (_React$Component) {\n  _inherits(Dropzone, _React$Component);\n\n  function Dropzone() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Dropzone);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Dropzone.__proto__ || Object.getPrototypeOf(Dropzone)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      draggedFiles: [],\n      acceptedFiles: [],\n      rejectedFiles: []\n    }, _this.isFileDialogActive = false, _this.onDocumentDrop = function (evt) {\n      if (_this.node && _this.node.contains(evt.target)) {\n        // if we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n        return;\n      }\n      evt.preventDefault();\n      _this.dragTargets = [];\n    }, _this.onDragStart = function (evt) {\n      evt.persist();\n      if (_this.props.onDragStart && isDragDataWithFiles(evt)) {\n        _this.props.onDragStart.call(_this, evt);\n      }\n    }, _this.onDragEnter = function (evt) {\n      evt.preventDefault();\n\n      // Count the dropzone and any children that are entered.\n      if (_this.dragTargets.indexOf(evt.target) === -1) {\n        _this.dragTargets.push(evt.target);\n      }\n\n      evt.persist();\n\n      if (isDragDataWithFiles(evt)) {\n        Promise.resolve(_this.props.getDataTransferItems(evt)).then(function (draggedFiles) {\n          if (isPropagationStopped(evt)) {\n            return;\n          }\n\n          _this.setState({\n            draggedFiles: draggedFiles,\n            // Do not rely on files for the drag state. It doesn't work in Safari.\n            isDragActive: true\n          });\n        });\n\n        if (_this.props.onDragEnter) {\n          _this.props.onDragEnter.call(_this, evt);\n        }\n      }\n    }, _this.onDragOver = function (evt) {\n      // eslint-disable-line class-methods-use-this\n      evt.preventDefault();\n      evt.persist();\n\n      if (evt.dataTransfer) {\n        evt.dataTransfer.dropEffect = 'copy';\n      }\n\n      if (_this.props.onDragOver && isDragDataWithFiles(evt)) {\n        _this.props.onDragOver.call(_this, evt);\n      }\n\n      return false;\n    }, _this.onDragLeave = function (evt) {\n      evt.preventDefault();\n      evt.persist();\n\n      // Only deactivate once the dropzone and all children have been left.\n      _this.dragTargets = _this.dragTargets.filter(function (el) {\n        return el !== evt.target && _this.node.contains(el);\n      });\n      if (_this.dragTargets.length > 0) {\n        return;\n      }\n\n      // Clear dragging files state\n      _this.setState({\n        isDragActive: false,\n        draggedFiles: []\n      });\n\n      if (_this.props.onDragLeave && isDragDataWithFiles(evt)) {\n        _this.props.onDragLeave.call(_this, evt);\n      }\n    }, _this.onDrop = function (evt) {\n      var _this$props = _this.props,\n          onDrop = _this$props.onDrop,\n          onDropAccepted = _this$props.onDropAccepted,\n          onDropRejected = _this$props.onDropRejected,\n          multiple = _this$props.multiple,\n          accept = _this$props.accept,\n          getDataTransferItems = _this$props.getDataTransferItems;\n\n      // Stop default browser behavior\n\n      evt.preventDefault();\n\n      // Persist event for later usage\n      evt.persist();\n\n      // Reset the counter along with the drag on a drop.\n      _this.dragTargets = [];\n      _this.isFileDialogActive = false;\n\n      // Clear files value\n      _this.draggedFiles = null;\n\n      // Reset drag state\n      _this.setState({\n        isDragActive: false,\n        draggedFiles: []\n      });\n\n      if (isDragDataWithFiles(evt)) {\n        Promise.resolve(getDataTransferItems(evt)).then(function (fileList) {\n          var acceptedFiles = [];\n          var rejectedFiles = [];\n\n          if (isPropagationStopped(evt)) {\n            return;\n          }\n\n          fileList.forEach(function (file) {\n            if (fileAccepted(file, accept) && fileMatchSize(file, _this.props.maxSize, _this.props.minSize)) {\n              acceptedFiles.push(file);\n            } else {\n              rejectedFiles.push(file);\n            }\n          });\n\n          if (!multiple && acceptedFiles.length > 1) {\n            // if not in multi mode add any extra accepted files to rejected.\n            // This will allow end users to easily ignore a multi file drop in \"single\" mode.\n            rejectedFiles.push.apply(rejectedFiles, _toConsumableArray(acceptedFiles.splice(0)));\n          }\n\n          // Update `acceptedFiles` and `rejectedFiles` state\n          // This will make children render functions receive the appropriate\n          // values\n          _this.setState({ acceptedFiles: acceptedFiles, rejectedFiles: rejectedFiles }, function () {\n            if (onDrop) {\n              onDrop.call(_this, acceptedFiles, rejectedFiles, evt);\n            }\n\n            if (rejectedFiles.length > 0 && onDropRejected) {\n              onDropRejected.call(_this, rejectedFiles, evt);\n            }\n\n            if (acceptedFiles.length > 0 && onDropAccepted) {\n              onDropAccepted.call(_this, acceptedFiles, evt);\n            }\n          });\n        });\n      }\n    }, _this.onClick = function (evt) {\n      var onClick = _this.props.onClick;\n\n      // if onClick prop is given, run it first\n\n      if (onClick) {\n        onClick.call(_this, evt);\n      }\n\n      // If the event hasn't been default prevented from within\n      // the onClick listener, open the file dialog\n      if (!isDefaultPrevented(evt)) {\n        evt.stopPropagation();\n\n        // in IE11/Edge the file-browser dialog is blocking, ensure this is behind setTimeout\n        // this is so react can handle state changes in the onClick prop above above\n        // see: https://github.com/react-dropzone/react-dropzone/issues/450\n        if (isIeOrEdge()) {\n          setTimeout(_this.open, 0);\n        } else {\n          _this.open();\n        }\n      }\n    }, _this.onInputElementClick = function (evt) {\n      evt.stopPropagation();\n    }, _this.onFileDialogCancel = function () {\n      // timeout will not recognize context of this method\n      var onFileDialogCancel = _this.props.onFileDialogCancel;\n      // execute the timeout only if the FileDialog is opened in the browser\n\n      if (_this.isFileDialogActive) {\n        setTimeout(function () {\n          if (_this.input != null) {\n            // Returns an object as FileList\n            var files = _this.input.files;\n\n\n            if (!files.length) {\n              _this.isFileDialogActive = false;\n\n              if (typeof onFileDialogCancel === 'function') {\n                onFileDialogCancel();\n              }\n            }\n          }\n        }, 300);\n      }\n    }, _this.onFocus = function (evt) {\n      var onFocus = _this.props.onFocus;\n\n      if (onFocus) {\n        onFocus.call(_this, evt);\n      }\n      if (!isDefaultPrevented(evt)) {\n        _this.setState({ isFocused: true });\n      }\n    }, _this.onBlur = function (evt) {\n      var onBlur = _this.props.onBlur;\n\n      if (onBlur) {\n        onBlur.call(_this, evt);\n      }\n      if (!isDefaultPrevented(evt)) {\n        _this.setState({ isFocused: false });\n      }\n    }, _this.onKeyDown = function (evt) {\n      var onKeyDown = _this.props.onKeyDown;\n\n      if (!_this.node.isEqualNode(evt.target)) {\n        return;\n      }\n\n      if (onKeyDown) {\n        onKeyDown.call(_this, evt);\n      }\n\n      if (!isDefaultPrevented(evt) && (evt.keyCode === 32 || evt.keyCode === 13)) {\n        evt.preventDefault();\n        _this.open();\n      }\n    }, _this.composeHandler = function (handler) {\n      if (_this.props.disabled) {\n        return null;\n      }\n      return handler;\n    }, _this.getRootProps = function () {\n      var _extends2;\n\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === undefined ? 'ref' : _ref2$refKey,\n          onKeyDown = _ref2.onKeyDown,\n          onFocus = _ref2.onFocus,\n          onBlur = _ref2.onBlur,\n          onClick = _ref2.onClick,\n          onDragStart = _ref2.onDragStart,\n          onDragEnter = _ref2.onDragEnter,\n          onDragOver = _ref2.onDragOver,\n          onDragLeave = _ref2.onDragLeave,\n          onDrop = _ref2.onDrop,\n          rest = _objectWithoutProperties(_ref2, ['refKey', 'onKeyDown', 'onFocus', 'onBlur', 'onClick', 'onDragStart', 'onDragEnter', 'onDragOver', 'onDragLeave', 'onDrop']);\n\n      return _extends((_extends2 = {\n        onKeyDown: _this.composeHandler(onKeyDown ? composeEventHandlers(onKeyDown, _this.onKeyDown) : _this.onKeyDown),\n        onFocus: _this.composeHandler(onFocus ? composeEventHandlers(onFocus, _this.onFocus) : _this.onFocus),\n        onBlur: _this.composeHandler(onBlur ? composeEventHandlers(onBlur, _this.onBlur) : _this.onBlur),\n        onClick: _this.composeHandler(onClick ? composeEventHandlers(onClick, _this.onClick) : _this.onClick),\n        onDragStart: _this.composeHandler(onDragStart ? composeEventHandlers(onDragStart, _this.onDragStart) : _this.onDragStart),\n        onDragEnter: _this.composeHandler(onDragEnter ? composeEventHandlers(onDragEnter, _this.onDragEnter) : _this.onDragEnter),\n        onDragOver: _this.composeHandler(onDragOver ? composeEventHandlers(onDragOver, _this.onDragOver) : _this.onDragOver),\n        onDragLeave: _this.composeHandler(onDragLeave ? composeEventHandlers(onDragLeave, _this.onDragLeave) : _this.onDragLeave),\n        onDrop: _this.composeHandler(onDrop ? composeEventHandlers(onDrop, _this.onDrop) : _this.onDrop)\n      }, _defineProperty(_extends2, refKey, _this.setNodeRef), _defineProperty(_extends2, 'tabIndex', _this.props.disabled ? -1 : 0), _extends2), rest);\n    }, _this.getInputProps = function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === undefined ? 'ref' : _ref3$refKey,\n          onChange = _ref3.onChange,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutProperties(_ref3, ['refKey', 'onChange', 'onClick']);\n\n      var _this$props2 = _this.props,\n          accept = _this$props2.accept,\n          multiple = _this$props2.multiple,\n          name = _this$props2.name;\n\n      var inputProps = _defineProperty({\n        accept: accept,\n        type: 'file',\n        style: { display: 'none' },\n        multiple: supportMultiple && multiple,\n        onChange: composeEventHandlers(onChange, _this.onDrop),\n        onClick: composeEventHandlers(onClick, _this.onInputElementClick),\n        autoComplete: 'off',\n        tabIndex: -1\n      }, refKey, _this.setInputRef);\n      if (name && name.length) {\n        inputProps.name = name;\n      }\n      return _extends({}, inputProps, rest);\n    }, _this.setNodeRef = function (node) {\n      _this.node = node;\n    }, _this.setInputRef = function (input) {\n      _this.input = input;\n    }, _this.open = function () {\n      _this.isFileDialogActive = true;\n      if (_this.input) {\n        _this.input.value = null;\n        _this.input.click();\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Dropzone, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n\n      this.dragTargets = [];\n\n      if (preventDropOnDocument) {\n        document.addEventListener('dragover', onDocumentDragOver, false);\n        document.addEventListener('drop', this.onDocumentDrop, false);\n      }\n\n      window.addEventListener('focus', this.onFileDialogCancel, false);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', onDocumentDragOver);\n        document.removeEventListener('drop', this.onDocumentDrop);\n      }\n\n      window.removeEventListener('focus', this.onFileDialogCancel, false);\n    }\n\n    /**\n     * Open system file upload dialog.\n     *\n     * @public\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          multiple = _props.multiple,\n          disabled = _props.disabled;\n      var _state = this.state,\n          isDragActive = _state.isDragActive,\n          isFocused = _state.isFocused,\n          draggedFiles = _state.draggedFiles,\n          acceptedFiles = _state.acceptedFiles,\n          rejectedFiles = _state.rejectedFiles;\n\n\n      var filesCount = draggedFiles.length;\n      var isMultipleAllowed = multiple || filesCount <= 1;\n      var isDragAccept = filesCount > 0 && allFilesAccepted(draggedFiles, this.props.accept);\n      var isDragReject = filesCount > 0 && (!isDragAccept || !isMultipleAllowed);\n\n      return children({\n        isDragActive: isDragActive,\n        isDragAccept: isDragAccept,\n        isDragReject: isDragReject,\n        draggedFiles: draggedFiles,\n        acceptedFiles: acceptedFiles,\n        rejectedFiles: rejectedFiles,\n        isFocused: isFocused && !disabled,\n        getRootProps: this.getRootProps,\n        getInputProps: this.getInputProps,\n        open: this.open\n      });\n    }\n  }]);\n\n  return Dropzone;\n}(React.Component);\n\nexport default Dropzone;\n\nDropzone.propTypes = {\n  /**\n   * Allow specific types of files. See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Render function that renders the actual component\n   *\n   * @param {Object} props\n   * @param {Function} props.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} props.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} props.open Open the native file selection dialog\n   * @param {Boolean} props.isFocused Dropzone area is in focus\n   * @param {Boolean} props.isDragActive Active drag is in progress\n   * @param {Boolean} props.isDragAccept Dragged files are accepted\n   * @param {Boolean} props.isDragReject Some dragged files are rejected\n   * @param {Array} props.draggedFiles Files in active drag\n   * @param {Array} props.acceptedFiles Accepted files\n   * @param {Array} props.rejectedFiles Rejected files\n   */\n  children: PropTypes.func,\n\n  /**\n   * Enable/disable the dropzone entirely\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * Allow dropping multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * `name` attribute for the input tag\n   */\n  name: PropTypes.string,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * getDataTransferItems handler\n   * @param {Event} event\n   * @returns {Array} array of File objects\n   */\n  getDataTransferItems: PropTypes.func,\n\n  /**\n   * onClick callback\n   * @param {Event} event\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * onFocus callback\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * onBlur callback\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * onKeyDown callback\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * The `onDrop` method that accepts two arguments.\n   * The first argument represents the accepted files and the second argument the rejected files.\n   *\n   * ```javascript\n   * function onDrop(acceptedFiles, rejectedFiles) {\n   *   // do stuff with files...\n   * }\n   * ```\n   *\n   * Files are accepted or rejected based on the `accept` prop.\n   * This must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   *\n   * Note that the `onDrop` callback will always be called regardless if the dropped files were accepted or rejected.\n   * You can use the `onDropAccepted`/`onDropRejected` props if you'd like to react to a specific event instead of the `onDrop` prop.\n   *\n   * The `onDrop` callback will provide you with an array of [Files](https://developer.mozilla.org/en-US/docs/Web/API/File) which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```javascript\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * onDropAccepted callback\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * onDropRejected callback\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * onDragStart callback\n   */\n  onDragStart: PropTypes.func,\n\n  /**\n   * onDragEnter callback\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * onDragOver callback\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * onDragLeave callback\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Provide a callback on clicking the cancel button of the file dialog\n   */\n  onFileDialogCancel: PropTypes.func\n};\n\nDropzone.defaultProps = {\n  preventDropOnDocument: true,\n  disabled: false,\n  multiple: true,\n  maxSize: Infinity,\n  minSize: 0,\n  getDataTransferItems: fromEvent\n};"]},"metadata":{},"sourceType":"module"}